<div class="main-content">
  <div class="report-toolbar">
    <span class="report-title"> <i class="k-icon k-i-check"></i> New project</span>
  </div>

  <kendo-card width="100%" class="mt-2">

    <kendo-card-body>

      <kendo-stepper #stepper [steps]="steps" stepType="full" [(currentStep)]="currentStepIndex" [linear]="isLinear">
      </kendo-stepper>

      <div class="container">

        <div class="alert alert-danger alert-dismissible fade show mt-2" *ngIf="errorMessage" role="alert">
          <span>{{errorMessage}}</span>
          <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
        </div>
        
        <form class="k-form" [formGroup]="projectForm" (ngSubmit)="submit()">

          <app-project-main-information *ngIf="currentStepIndex === 0" [formGroup]="getFromGroup('mainInformation')"></app-project-main-information>
          <app-project-additional-information *ngIf="currentStepIndex === 1" [formGroup]="getFromGroup('additionalInformation')"></app-project-additional-information>

          <span class="k-form-separator mt-5"></span>
          <div class="d-flex justify-content-between">
              <span class="align-self-center">Step {{ currentStepIndex + 1 }} of {{steps.length}}</span>
              <div class="mt-2">
                <button kendoButton icon="arrow-chevron-left" (click)="prev()" *ngIf="currentStepIndex !== 0">Previous</button>
                <button kendoButton icon="arrow-chevron-right" themeColor="primary" class="ms-2" (click)="next()" *ngIf="currentStepIndex < 3">Next</button>
                <button kendoButton icon="save" themeColor="secondary" class="ms-2" (click)="submit()" *ngIf="currentStepIndex > 0">Submit</button>
              </div>
          </div>
          
        </form>

      </div>

    </kendo-card-body>
  </kendo-card>
</div>